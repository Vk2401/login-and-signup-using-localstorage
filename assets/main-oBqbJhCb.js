import"./index-Y-GvpMnS.js";const c=document.getElementById("theme-toggle"),o=document.body,d=c.querySelector(".moonSvg"),g=c.querySelector(".sunSvg");c.addEventListener("click",()=>{o.classList.toggle("dark"),d.style.display=o.classList.contains("dark")?"none":"block",g.style.display=o.classList.contains("dark")?"block":"none";const e=o.classList.contains("dark");localStorage.setItem("dark",e.toString())});const a=localStorage.getItem("dark");(a==="true"||a==="false")&&(o.classList.toggle("dark",a==="true"),d.style.display=a==="true"?"none":"block",g.style.display=a==="true"?"block":"none");async function y(e){e.preventDefault();const t=new FormData(e.target),r=t.get("email"),i=t.get("password"),n=JSON.parse(localStorage.getItem("registeredUsers"))||[];if(n.some(p=>p.email===r)){alert("Email already registered. Please use a different email.");return}const m=await(await fetch("https://ipv4.icanhazip.com/")).text(),u=new Date().toLocaleString();n.push({email:r,password:i,ip:m,registrationDate:u}),localStorage.setItem("registeredUsers",JSON.stringify(n)),alert("Registration successful!"),e.target.reset()}document.getElementById("signupForm").addEventListener("submit",y);function f(e){e.preventDefault();const t=new FormData(e.target),r=t.get("email"),i=t.get("password"),l=(JSON.parse(localStorage.getItem("registeredUsers"))||[]).find(s=>s.email===r&&s.password===i);if(l){const s=JSON.stringify(l);localStorage.setItem("currentUser",s),window.location.href="table.html"}else alert("Invalid email or password. Please try again.");e.target.reset()}document.getElementById("loginForm").addEventListener("submit",f);
